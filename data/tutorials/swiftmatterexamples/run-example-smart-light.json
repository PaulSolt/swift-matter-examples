{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light"},"variants":[{"paths":["\/tutorials\/swiftmatterexamples\/run-example-smart-light"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents","doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/$volume","doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/Run-the-examples"]],"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents","modules":[{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/Setup-your-environment","projects":[{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS","sections":[{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-Xcode"},{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-the-Swift-Nightly-Toolchain"},{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-ESP-IDF-and-ESP-Matter-SDKs"},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Setup-your-shell-environment","kind":"task"}]},{"sections":[{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Docker#Build-the-Docker-image-and-tools"},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Docker#Run-the-container","kind":"task"}],"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Docker"}]},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/Run-the-examples","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink#Build-and-Run"},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink#Understand-the-code","kind":"task"}],"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink"},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light","sections":[{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Build-and-Run","kind":"task"},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Connect-using-Matter","kind":"task"},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Understand-the-code","kind":"task"}]}]}]},"sections":[{"estimatedTimeInMinutes":20,"kind":"hero","title":"Explore the Smart Light example","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Build, run, and understand the Smart Light application."}]}],"chapter":"Run the examples"},{"tasks":[{"title":"Build and Run","anchor":"Build-and-Run","stepsSection":[{"type":"step","content":[{"inlineContent":[{"text":"Connect your ESP32-C6 microcontroller to your host machine over USB using the USB Type-C connector closest to the RGB LED.","type":"text"}],"type":"paragraph"}],"code":null,"media":"esp32-c6-usb.png","runtimePreview":null,"caption":[]},{"media":null,"code":"run-example-smart-light-00.sh","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If you don‚Äôt have it yet, clone the "},{"type":"codeVoice","code":"swift-matter-examples"},{"type":"text","text":" repository."}]}],"caption":[]},{"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Navigate to the smart light example.","type":"text"}]}],"caption":[],"type":"step","media":null,"code":"run-example-smart-light-01.sh"},{"content":[{"inlineContent":[{"type":"text","text":"Use "},{"type":"strong","inlineContent":[{"type":"text","text":"idf.py"}]},{"type":"text","text":" to configure example for the ESP32-C6 microcontroller."}],"type":"paragraph"}],"caption":[],"type":"step","media":null,"code":"run-example-smart-light-02.sh","runtimePreview":null},{"caption":[],"runtimePreview":null,"type":"step","content":[{"inlineContent":[{"text":"Use ","type":"text"},{"type":"strong","inlineContent":[{"text":"idf.py","type":"text"}]},{"type":"text","text":" to build the application."}],"type":"paragraph"}],"media":null,"code":"run-example-smart-light-03.sh"},{"type":"step","runtimePreview":null,"code":"run-example-smart-light-04.sh","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"strong","inlineContent":[{"type":"text","text":"idf.py"}]},{"text":" to flash the application onto your microcontroller.","type":"text"}]}],"caption":[{"name":"Important","content":[{"inlineContent":[{"type":"text","text":"Use "},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"Ctrl + ]"}]},{"type":"text","text":" to exit the monitor program."}],"type":"paragraph"}],"type":"aside","style":"important"}],"media":null},{"content":[{"type":"paragraph","inlineContent":[{"text":"After flashing completes you should see the microcontroller turn on the LED.","type":"text"}]}],"caption":[{"inlineContent":[{"type":"text","text":"Additionally you should see "},{"type":"codeVoice","code":"üèéÔ∏è Hello, Embedded Swift! (Smart Light)"},{"type":"text","text":" in the monitor log followed by logs indicating the LED is changing colors."}],"type":"paragraph"}],"media":"run-example-smart-light-hello.png","code":null,"type":"step","runtimePreview":null}],"contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"inlineContent":[{"type":"text","text":"Build the Smart Light application and run it on your microcontroller."}],"type":"paragraph"}]}]},{"title":"Connect using Matter","contentSection":[{"kind":"contentAndMedia","mediaPosition":"trailing","content":[{"inlineContent":[{"type":"text","text":"Pair and control your microcontroller using Matter."}],"type":"paragraph"},{"content":[{"inlineContent":[{"text":"These steps use HomeKit via the ‚ÄúHome‚Äù app on iOS 17, however similar steps should work for other connected home ecosystems.","type":"text"}],"type":"paragraph"}],"style":"important","name":"Important","type":"aside"}],"media":"homekit-logo.png"}],"stepsSection":[{"code":null,"runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"Open the ‚ÄúHome‚Äù app and select the ‚Äúplus‚Äù icon to add a new accessory."}],"type":"paragraph"}],"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Be sure you already have a Home hub configured, like a HomePod as shown in this setup."}]}],"type":"step","media":"pairing-00.png"},{"caption":[],"content":[{"type":"paragraph","inlineContent":[{"text":"Select the ‚ÄúMore options‚Ä¶‚Äù button on the ‚ÄúAdd Accessory‚Äù overlay.","type":"text"}]}],"code":null,"runtimePreview":null,"media":"pairing-01.png","type":"step"},{"code":null,"type":"step","content":[{"inlineContent":[{"type":"text","text":"Select the ‚ÄúMatter Accessory‚Äù from the list of nearby accessories."}],"type":"paragraph"}],"media":"pairing-02.png","runtimePreview":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"If the microcontroller doesn‚Äôt appear in this list you can use ","type":"text"},{"type":"codeVoice","code":"idf.py erase-flash"},{"type":"text","text":" to reset the device and try again."}]}]},{"content":[{"inlineContent":[{"text":"Enter the setup code ","type":"text"},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"2020-2021"}]},{"text":" to pair the device.","type":"text"}],"type":"paragraph"}],"media":"pairing-03.png","type":"step","caption":[],"code":null,"runtimePreview":null},{"caption":[],"media":"pairing-04.png","runtimePreview":null,"content":[{"inlineContent":[{"text":"Your microcontroller should now begin pairing.","type":"text"}],"type":"paragraph"}],"code":null,"type":"step"},{"content":[{"inlineContent":[{"type":"text","text":"During the pairing process you may be presented with an ‚ÄúUncertified Accessory‚Äù alert, select ‚ÄúAdd Anyway‚Äù to continue pairing."}],"type":"paragraph"}],"media":"pairing-05.png","code":null,"type":"step","runtimePreview":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"This alert is shown because the microcontroller is not a certified device.","type":"text"}]}]},{"media":"pairing-06.png","code":null,"runtimePreview":null,"caption":[],"content":[{"inlineContent":[{"text":"Once the pairing process completes, you should see an ‚ÄúAccessory Added‚Äù overlay indicating success.","type":"text"}],"type":"paragraph"}],"type":"step"},{"content":[{"type":"paragraph","inlineContent":[{"text":"The microcontroller should now show up in the main list of accessories as a Smart Light.","type":"text"}]}],"runtimePreview":null,"type":"step","caption":[],"code":null,"media":"pairing-07.png"},{"caption":[],"runtimePreview":null,"content":[{"inlineContent":[{"text":"You can now control the LED on the microcontroller by selecting the accessory.","type":"text"}],"type":"paragraph"}],"type":"step","media":"pairing-08.png","code":null},{"runtimePreview":null,"type":"step","caption":[],"content":[{"type":"paragraph","inlineContent":[{"text":"You can change the brightness of the LED using the primary slider.","type":"text"}]}],"media":"pairing-09.png","code":null},{"content":[{"inlineContent":[{"text":"You can adjust the color using the color wheel.","type":"text"}],"type":"paragraph"}],"code":null,"runtimePreview":null,"type":"step","caption":[],"media":"pairing-10.png"},{"code":null,"type":"step","caption":[],"media":"pairing-11.png","content":[{"inlineContent":[{"type":"text","text":"You can also adjust the color using a color temperature."}],"type":"paragraph"}],"runtimePreview":null}],"anchor":"Connect-using-Matter"},{"contentSection":[{"mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Take a brief tour of the code that composes the Smart Light example."}]},{"content":[{"inlineContent":[{"text":"This walkthrough skips content covered in ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink"},{"text":".","type":"text"}],"type":"paragraph"}],"style":"note","name":"Note","type":"aside"}],"kind":"contentAndMedia"}],"title":"Understand the code","stepsSection":[{"caption":[],"runtimePreview":null,"type":"step","code":"walkthrough-example-smart-light-01.swift","content":[{"inlineContent":[{"text":"We start the application by declaring an ","type":"text"},{"type":"strong","inlineContent":[{"code":"app_main","type":"codeVoice"}]},{"text":" function with a print statement to show the application has started.","type":"text"}],"type":"paragraph"}],"media":null},{"runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"We then create an LED instance to operate on. The LED type is the same type used in the LED Blink example."}],"type":"paragraph"}],"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Next we will start implementing the code required of a Matter accessory."}]}],"type":"step","media":null,"code":"walkthrough-example-smart-light-02.swift"},{"type":"aside","name":"Important","style":"important","content":[{"inlineContent":[{"type":"text","text":"The Smart Light example uses a Matter overlay, similar to the LED overlay, which provides idiomatic Swift APIs for Matter C++ APIs."}],"type":"paragraph"}]},{"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"In order to create a Matter accessory, we start by initializing a Matter ‚Äúroot node‚Äù, which represents the entire accessory.","type":"text"}]}],"type":"step","code":"walkthrough-example-smart-light-03.swift","caption":[{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"identifyHandler","type":"codeVoice"},{"type":"text","text":" callback is designed to help identify the physical accessory. In this example, we log a message, but in a real-world application, a smart light might use this callback to flash its light, providing a clear visual indicator of its location."}]}],"media":null},{"code":"walkthrough-example-smart-light-04.swift","caption":[],"runtimePreview":null,"content":[{"inlineContent":[{"text":"Second, we create an ‚Äúendpoint‚Äù, which represents the RGB LED light and an event handler which we will use to convert Matter events to LED adjustments.","type":"text"}],"type":"paragraph"}],"type":"step","media":null},{"type":"step","runtimePreview":null,"caption":[],"content":[{"inlineContent":[{"text":"We start the event handler by switching over the kind of Matter event (called an ","type":"text"},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"attribute"}]},{"text":") to determine which LED property to adjust.","type":"text"}],"type":"paragraph"}],"code":"walkthrough-example-smart-light-04-a.swift","media":null},{"type":"step","caption":[{"inlineContent":[{"type":"text","text":"With just these two controls implemented, we are be able to use the light as a switchable and dimmable light."}],"type":"paragraph"}],"media":null,"code":"walkthrough-example-smart-light-04-b.swift","content":[{"inlineContent":[{"text":"Next, we add cases for the ","type":"text"},{"inlineContent":[{"type":"codeVoice","code":".onOff"}],"type":"strong"},{"text":" and ","type":"text"},{"inlineContent":[{"type":"codeVoice","code":".levelControl"}],"type":"strong"},{"type":"text","text":" events. We use each event‚Äôs "},{"inlineContent":[{"type":"codeVoice","code":"value"}],"type":"strong"},{"text":" to set the ","type":"text"},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"led.enabled"}]},{"text":" and ","type":"text"},{"inlineContent":[{"type":"codeVoice","code":"led.brightness"}],"type":"strong"},{"type":"text","text":" properties respectively."}],"type":"paragraph"}],"runtimePreview":null},{"content":[{"inlineContent":[{"type":"text","text":"We then add the support for the "},{"type":"strong","inlineContent":[{"code":".colorControl","type":"codeVoice"}]},{"text":" event. We can use Swift‚Äôs pattern matching feature to implement each of the hue, saturation, and temperature controls in individual case statements.","type":"text"}],"type":"paragraph"}],"media":null,"code":"walkthrough-example-smart-light-04-c.swift","caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"With all three of these controls implemented, we now have a fully adjustable RGB light."}]}],"runtimePreview":null,"type":"step"},{"code":"walkthrough-example-smart-light-05.swift","type":"step","media":null,"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Now we need to connect up the components. We add the light ‚Äúendpoint‚Äù to the ‚Äúroot node‚Äù making the light a controllable accessory."}],"type":"paragraph"}],"runtimePreview":null},{"content":[{"type":"paragraph","inlineContent":[{"text":"Finally, we create a Matter ‚ÄúApplication‚Äù object, attach it to the ‚Äúroot node‚Äù, and start the application.","type":"text"}]}],"type":"step","caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The microcontroller is now a fully functional Matter smart light accessory!"}]}],"runtimePreview":null,"media":null,"code":"walkthrough-example-smart-light-06.swift"}],"anchor":"Understand-the-code"}],"kind":"tasks"}],"kind":"project","metadata":{"title":"Explore the Smart Light example","category":"Swift Matter Examples","role":"project","categoryPathComponent":"Tutorial-Table-of-Contents"},"schemaVersion":{"minor":3,"patch":0,"major":0},"references":{"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-MacOS":{"url":"\/tutorials\/swiftmatterexamples\/setup-macos","abstract":[{"text":"Install the tools needed to build an ESP Matter accessory on macOS.","type":"text"}],"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS","type":"topic","role":"project","title":"Get started on macOS","estimatedTime":"30min","kind":"project"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/Tutorial-Table-of-Contents":{"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents","url":"\/tutorials\/tutorial-table-of-contents","type":"topic","kind":"overview","title":"Build a Matter accessory with Embedded Swift","role":"overview","abstract":[{"text":"Learn how to build a simple Embedded Swift application that implements a Matter smart light accessory.","type":"text"}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/Tutorial-Table-of-Contents/Setup-your-environment":{"type":"topic","kind":"article","url":"\/tutorials\/tutorial-table-of-contents\/setup-your-environment","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/Setup-your-environment","role":"article","abstract":[],"title":"Setup your environment"},"pairing-07.png":{"type":"image","identifier":"pairing-07.png","alt":"Home app open to the \\\"Home\\\" tab with an Airport Express, HomePod, and the microcontroller paired.","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-07.png","traits":["1x","light"]}]},"run-example-smart-light-04.sh":{"syntax":"shell","fileType":"shell","identifier":"run-example-smart-light-04.sh","content":["# Clone the repo","$ cd ~","$ git clone https:\/\/github.com\/apple\/swift-matter-examples.git","","# Navigate to the smart light example","$ cd ~\/swift-matter-examples\/smart-light","# In docker use \"cd \/code\/smart-light\"","","# Configure the target microcontroller","$ idf.py set-target esp32c6","","# Build the application","$ idf.py build","","# Flash and monitor the application","$ idf.py flash monitor"],"fileName":"Run.shell","type":"file","highlights":[{"line":15},{"line":16}]},"pairing-08.png":{"type":"image","alt":"Home app open the \\\"Matter Accessory\\\" detail view with the brightness set to 0%.","identifier":"pairing-08.png","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-08.png","traits":["1x","light"]}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-Docker#Build-the-Docker-image-and-tools":{"kind":"section","role":"pseudoSymbol","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Docker#Build-the-Docker-image-and-tools","abstract":[{"type":"text","text":"Install the tools needed to build an ESP Matter accessory in a Docker container."}],"url":"\/tutorials\/swiftmatterexamples\/setup-docker#Build-the-Docker-image-and-tools","type":"section","title":"Build the Docker image and tools"},"run-example-smart-light-00.sh":{"content":["# Clone the repo","$ cd ~","$ git clone https:\/\/github.com\/apple\/swift-matter-examples.git"],"fileType":"shell","syntax":"shell","type":"file","identifier":"run-example-smart-light-00.sh","fileName":"Run.shell","highlights":[]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/Tutorial-Table-of-Contents/Run-the-examples":{"url":"\/tutorials\/tutorial-table-of-contents\/run-the-examples","kind":"article","title":"Run the examples","type":"topic","role":"article","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/Run-the-examples","abstract":[]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-MacOS#Install-the-Swift-Nightly-Toolchain":{"url":"\/tutorials\/swiftmatterexamples\/setup-macos#Install-the-Swift-Nightly-Toolchain","title":"Install the Swift Nightly Toolchain","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Install the tools needed to build an ESP Matter accessory on macOS."}],"kind":"section","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-the-Swift-Nightly-Toolchain"},"run-example-smart-light-03.sh":{"highlights":[{"line":11},{"line":12},{"line":13},{"line":14}],"type":"file","content":["# Clone the repo","$ cd ~","$ git clone https:\/\/github.com\/apple\/swift-matter-examples.git","","# Navigate to the smart light example","$ cd ~\/swift-matter-examples\/smart-light","# In docker use \"cd \/code\/smart-light\"","","# Configure the target microcontroller","$ idf.py set-target esp32c6","","# Build the application","$ idf.py build",""],"fileType":"shell","identifier":"run-example-smart-light-03.sh","fileName":"Run.shell","syntax":"shell"},"walkthrough-example-smart-light-03.swift":{"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","}"],"fileType":"swift","syntax":"swift","type":"file","identifier":"walkthrough-example-smart-light-03.swift","fileName":"Main.swift","highlights":[{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22}]},"pairing-03.png":{"type":"image","identifier":"pairing-03.png","alt":"Home app display the \\\"Setup Code\\\" overlay filled out with the text \\\"2020-2021\\\".","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-03.png","traits":["1x","light"]}]},"run-example-smart-light-01.sh":{"content":["# Clone the repo","$ cd ~","$ git clone https:\/\/github.com\/apple\/swift-matter-examples.git","","# Navigate to the smart light example","$ cd ~\/swift-matter-examples\/smart-light"],"fileType":"shell","syntax":"shell","type":"file","identifier":"run-example-smart-light-01.sh","fileName":"Run.shell","highlights":[{"line":4},{"line":5},{"line":6}]},"homekit-logo.png":{"type":"image","alt":"FIXME-ALT.","identifier":"homekit-logo.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/homekit-logo.png"}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-Smart-Light#Connect-using-Matter":{"kind":"section","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Connect-using-Matter","title":"Connect using Matter","abstract":[{"type":"text","text":"Build, run, and understand the Smart Light application."}],"url":"\/tutorials\/swiftmatterexamples\/run-example-smart-light#Connect-using-Matter","type":"section","role":"pseudoSymbol"},"esp32-c6-usb.png":{"type":"image","identifier":"esp32-c6-usb.png","alt":"FIXME-ALT.","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/esp32-c6-usb.png","traits":["1x","light"]}]},"pairing-05.png":{"type":"image","identifier":"pairing-05.png","alt":"Home app displaying the \\\"Uncertified Accessory\\\" alert with two options, \\\"Add Anyway\\\" and \\\"Cancel\\\" on top of the \\\"Accessory\\\" overlay.","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-05.png","traits":["1x","light"]}]},"walkthrough-example-smart-light-02.swift":{"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","}"],"fileType":"swift","syntax":"swift","type":"file","identifier":"walkthrough-example-smart-light-02.swift","fileName":"Main.swift","highlights":[{"line":15},{"line":16}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-MacOS#Setup-your-shell-environment":{"type":"section","title":"Setup your shell environment","role":"pseudoSymbol","abstract":[{"type":"text","text":"Install the tools needed to build an ESP Matter accessory on macOS."}],"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Setup-your-shell-environment","url":"\/tutorials\/swiftmatterexamples\/setup-macos#Setup-your-shell-environment","kind":"section"},"run-example-smart-light-hello.png":{"type":"image","identifier":"run-example-smart-light-hello.png","alt":"FIXME-ALT.","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/run-example-smart-light-hello.png","traits":["1x","light"]}]},"walkthrough-example-smart-light-04-c.swift":{"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    switch event.attribute {","    case .onOff:","      led.enabled = (event.value == 1)","","    case .levelControl:","      led.brightness = Int(Float(event.value) \/ 255.0 * 100.0)","","    case .colorControl(.currentHue):","      let newHue = Int(Float(event.value) \/ 255.0 * 360.0)","      led.color = .hueSaturation(newHue, led.color.saturation)","","    case .colorControl(.currentSaturation):","      let newSaturation = Int(Float(event.value) \/ 255.0 * 100.0)","      led.color = .hueSaturation(led.color.hue, newSaturation)","","    case .colorControl(.colorTemperatureMireds):","      let kelvins = 1_000_000 \/ event.value","      led.color = .temperature(kelvins)","","    default:","      break","    }","  }","}"],"fileType":"swift","syntax":"swift","type":"file","identifier":"walkthrough-example-smart-light-04-c.swift","fileName":"Main.swift","highlights":[{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-LED-Blink":{"title":"Explore the LED Blink example","kind":"project","estimatedTime":"10min","url":"\/tutorials\/swiftmatterexamples\/run-example-led-blink","role":"project","type":"topic","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink","abstract":[{"text":"Build, run, and understand the LED Blink application.","type":"text"}]},"pairing-10.png":{"type":"image","identifier":"pairing-10.png","alt":"Home app open the \\\"Matter Accessory\\\" color detail view with the color set to a vivid green.","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-10.png"}]},"pairing-11.png":{"type":"image","alt":"Home app open the \\\"Matter Accessory\\\" temperature detail view with the color set to a warm orange.","identifier":"pairing-11.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-11.png"}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-LED-Blink#Understand-the-code":{"type":"section","title":"Understand the code","abstract":[{"type":"text","text":"Build, run, and understand the LED Blink application."}],"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink#Understand-the-code","role":"pseudoSymbol","kind":"section","url":"\/tutorials\/swiftmatterexamples\/run-example-led-blink#Understand-the-code"},"walkthrough-example-smart-light-06.swift":{"identifier":"walkthrough-example-smart-light-06.swift","fileName":"Main.swift","type":"file","syntax":"swift","content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    switch event.attribute {","    case .onOff:","      led.enabled = (event.value == 1)","","    case .levelControl:","      led.brightness = Int(Float(event.value) \/ 255.0 * 100.0)","","    case .colorControl(.currentHue):","      let newHue = Int(Float(event.value) \/ 255.0 * 360.0)","      led.color = .hueSaturation(newHue, led.color.saturation)","","    case .colorControl(.currentSaturation):","      let newSaturation = Int(Float(event.value) \/ 255.0 * 100.0)","      led.color = .hueSaturation(led.color.hue, newSaturation)","","    case .colorControl(.colorTemperatureMireds):","      let kelvins = 1_000_000 \/ event.value","      led.color = .temperature(kelvins)","","    default:","      break","    }","  }","","  \/\/ (3) Add the endpoint to the node","  rootNode.addEndpoint(lightEndpoint)","","  \/\/ (4) Provide the node to a Matter application and start it","  let app = Matter.Application()","  app.rootNode = rootNode","  app.start()","}"],"fileType":"swift","highlights":[{"line":53},{"line":54},{"line":55},{"line":56},{"line":57}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-Docker#Run-the-container":{"type":"section","title":"Run the container","role":"pseudoSymbol","abstract":[{"type":"text","text":"Install the tools needed to build an ESP Matter accessory in a Docker container."}],"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Docker#Run-the-container","url":"\/tutorials\/swiftmatterexamples\/setup-docker#Run-the-container","kind":"section"},"walkthrough-example-smart-light-04-b.swift":{"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    switch event.attribute {","    case .onOff:","      led.enabled = (event.value == 1)","","    case .levelControl:","      led.brightness = Int(Float(event.value) \/ 255.0 * 100.0)","","    default:","      break","    }","  }","}"],"fileType":"swift","syntax":"swift","type":"file","identifier":"walkthrough-example-smart-light-04-b.swift","fileName":"Main.swift","highlights":[{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-Smart-Light#Build-and-Run":{"url":"\/tutorials\/swiftmatterexamples\/run-example-smart-light#Build-and-Run","abstract":[{"type":"text","text":"Build, run, and understand the Smart Light application."}],"role":"pseudoSymbol","title":"Build and Run","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Build-and-Run","kind":"section","type":"section"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-MacOS#Install-Xcode":{"url":"\/tutorials\/swiftmatterexamples\/setup-macos#Install-Xcode","abstract":[{"type":"text","text":"Install the tools needed to build an ESP Matter accessory on macOS."}],"role":"pseudoSymbol","title":"Install Xcode","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-Xcode","kind":"section","type":"section"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-MacOS#Install-ESP-IDF-and-ESP-Matter-SDKs":{"url":"\/tutorials\/swiftmatterexamples\/setup-macos#Install-ESP-IDF-and-ESP-Matter-SDKs","kind":"section","title":"Install ESP-IDF and ESP-Matter SDKs","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-ESP-IDF-and-ESP-Matter-SDKs","abstract":[{"type":"text","text":"Install the tools needed to build an ESP Matter accessory on macOS."}]},"run-example-smart-light-02.sh":{"highlights":[{"line":7},{"line":8},{"line":9},{"line":10}],"type":"file","content":["# Clone the repo","$ cd ~","$ git clone https:\/\/github.com\/apple\/swift-matter-examples.git","","# Navigate to the smart light example","$ cd ~\/swift-matter-examples\/smart-light","# In docker use \"cd \/code\/smart-light\"","","# Configure the target microcontroller","$ idf.py set-target esp32c6"],"fileType":"shell","identifier":"run-example-smart-light-02.sh","fileName":"Run.shell","syntax":"shell"},"walkthrough-example-smart-light-04.swift":{"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    \/\/ TODO...","  }","}"],"fileType":"swift","syntax":"swift","type":"file","identifier":"walkthrough-example-smart-light-04.swift","fileName":"Main.swift","highlights":[{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-Smart-Light":{"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light","url":"\/tutorials\/swiftmatterexamples\/run-example-smart-light","type":"topic","kind":"project","title":"Explore the Smart Light example","role":"project","abstract":[{"text":"Build, run, and understand the Smart Light application.","type":"text"}],"estimatedTime":"20min"},"walkthrough-example-smart-light-05.swift":{"identifier":"walkthrough-example-smart-light-05.swift","fileName":"Main.swift","type":"file","syntax":"swift","content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    switch event.attribute {","    case .onOff:","      led.enabled = (event.value == 1)","","    case .levelControl:","      led.brightness = Int(Float(event.value) \/ 255.0 * 100.0)","","    case .colorControl(.currentHue):","      let newHue = Int(Float(event.value) \/ 255.0 * 360.0)","      led.color = .hueSaturation(newHue, led.color.saturation)","","    case .colorControl(.currentSaturation):","      let newSaturation = Int(Float(event.value) \/ 255.0 * 100.0)","      led.color = .hueSaturation(led.color.hue, newSaturation)","","    case .colorControl(.colorTemperatureMireds):","      let kelvins = 1_000_000 \/ event.value","      led.color = .temperature(kelvins)","","    default:","      break","    }","  }","","  \/\/ (3) Add the endpoint to the node","  rootNode.addEndpoint(lightEndpoint)","}"],"fileType":"swift","highlights":[{"line":50},{"line":51},{"line":52}]},"pairing-02.png":{"type":"image","identifier":"pairing-02.png","alt":"Home app displaying the \\\"Select an Accessory\\\" overlay with one nearby item named \\\"Matter Accessory\\\".","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-02.png"}]},"walkthrough-example-smart-light-01.swift":{"identifier":"walkthrough-example-smart-light-01.swift","fileName":"Main.swift","type":"file","syntax":"swift","content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","}"],"fileType":"swift","highlights":[{"line":11},{"line":12},{"line":13},{"line":14},{"line":15}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-Docker":{"url":"\/tutorials\/swiftmatterexamples\/setup-docker","abstract":[{"text":"Install the tools needed to build an ESP Matter accessory in a Docker container.","type":"text"}],"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Docker","type":"topic","role":"project","title":"Get started on a Linux Docker container","estimatedTime":"30min","kind":"project"},"pairing-01.png":{"type":"image","identifier":"pairing-01.png","alt":"Home app displaying the \\\"Add Accessory\\\" overlay.","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-01.png"}]},"pairing-04.png":{"type":"image","identifier":"pairing-04.png","alt":"Home app displaying the \\\"Accessory\\\" overlay with the text \\\"Connecting..\\\".","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-04.png","traits":["1x","light"]}]},"pairing-06.png":{"type":"image","alt":"Home app displaying the \\\"Accessory Added\\\" overlay.","identifier":"pairing-06.png","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-06.png","traits":["1x","light"]}]},"pairing-00.png":{"type":"image","alt":"Home app open to the \\\"Home\\\" tab with an Airport Express and HomePod paired.","identifier":"pairing-00.png","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-00.png","traits":["1x","light"]}]},"pairing-09.png":{"type":"image","identifier":"pairing-09.png","alt":"Home app open the \\\"Matter Accessory\\\" detail view with the brightness set to 50%.","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-09.png","traits":["1x","light"]}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-LED-Blink#Build-and-Run":{"url":"\/tutorials\/swiftmatterexamples\/run-example-led-blink#Build-and-Run","kind":"section","title":"Build and Run","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink#Build-and-Run","abstract":[{"text":"Build, run, and understand the LED Blink application.","type":"text"}]},"walkthrough-example-smart-light-04-a.swift":{"identifier":"walkthrough-example-smart-light-04-a.swift","fileName":"Main.swift","type":"file","syntax":"swift","content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    switch event.attribute {","    default:","      break","    }","  }","}"],"fileType":"swift","highlights":[{"line":27},{"line":28},{"line":29},{"line":30}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-Smart-Light#Understand-the-code":{"url":"\/tutorials\/swiftmatterexamples\/run-example-smart-light#Understand-the-code","kind":"section","title":"Understand the code","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Understand-the-code","abstract":[{"type":"text","text":"Build, run, and understand the Smart Light application."}]}}}